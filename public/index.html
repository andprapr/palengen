<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>StreamHub - Drama Pendek</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        .custom-scroll::-webkit-scrollbar { width: 4px; }
        .custom-scroll::-webkit-scrollbar-track { background: transparent; }
        .custom-scroll::-webkit-scrollbar-thumb { background-color: rgba(255,255,255,0.3); border-radius: 10px; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .card-anim { animation: fadeIn 0.4s ease-out forwards; }
        .player-ui { transition: opacity 0.3s ease, transform 0.3s ease; }
        .ui-hidden { opacity: 0 !important; pointer-events: none; }
        
        /* Drawer Animation */
        .drawer-closed { transform: translateY(100%); }
        .drawer-open { transform: translateY(0); }
        
        /* Desktop: Slide dari Kanan */
        @media (min-width: 1024px) {
            .drawer-closed { transform: translateX(100%); }
            .drawer-open { transform: translateX(0); }
        }

        video::cue {
            background-color: rgba(0, 0, 0, 0.6) !important; color: #ffffff !important;
            font-family: system-ui, -apple-system, sans-serif !important; font-weight: 600 !important;
            text-shadow: 0px 1px 3px rgba(0,0,0,0.9) !important;
            font-size: clamp(16px, 5vw, 24px) !important; line-height: 1.4 !important;
            transform: none !important; 
        }
    </style>
</head>
<body class="bg-[#0a0a0a] text-gray-100 font-sans antialiased flex flex-col min-h-screen">

    <!-- HEADER -->
    <div id="headerContainer"></div>

    <main class="pt-20 pb-12 px-4 max-w-[1600px] mx-auto w-full relative flex-grow" id="mainContainer">
        
        <div id="historySection" class="hidden mb-8 animate-fade-in"><div class="flex items-center gap-2 mb-4 px-1"><h2 class="text-lg font-bold text-white">Lanjutkan Menonton</h2></div><div id="historyList" class="flex gap-4 overflow-x-auto no-scrollbar pb-2 snap-x"></div></div>
        
        <div id="recommendationSection" class="hidden mb-8 animate-fade-in border-b border-white/5 pb-6">
            <div class="flex items-center gap-2 mb-4 px-1">
                <h2 class="text-base font-bold text-white flex items-center gap-2">
                    <span class="text-orange-500 text-lg">üî•</span> Rekomendasi Untukmu
                </h2>
            </div>
            <div id="recommendList" class="flex gap-4 overflow-x-auto no-scrollbar pb-4 snap-x">
                <div class="min-w-[130px] h-[190px] bg-[#1a1a1a] rounded-xl animate-pulse"></div>
            </div>
        </div>

        <div class="flex overflow-x-auto gap-3 py-4 mb-2 no-scrollbar sticky top-16 z-40 bg-[#0a0a0a]/95 backdrop-blur-md border-b border-white/5 items-center">
            <button onclick="changeTab('all')" class="tab-btn active px-6 py-2 rounded-full text-sm font-bold transition-all bg-red-600 text-white border border-red-600 shadow-[0_0_15px_rgba(220,38,38,0.5)] tracking-wide w-full md:w-auto">üì∫ Semua Drama</button>
            <button id="vipTabBtn" onclick="changeTab('vip')" class="tab-btn hidden px-6 py-2 rounded-full text-sm font-bold transition-all bg-[#1a1a1a] text-gray-400 hover:text-white border border-white/10 hover:border-white/30 whitespace-nowrap tracking-wide w-full md:w-auto">üëë Film VIP</button>
        </div>

        <div id="loading" class="flex flex-col items-center justify-center mt-20 space-y-4"><div class="animate-spin rounded-full h-12 w-12 border-4 border-[#333] border-t-red-600"></div><p class="text-gray-400 font-medium animate-pulse">Menghubungkan ke <span id="loadingProviderName">Server</span>...</p></div>
        <div id="contentArea" class="hidden min-h-[50vh]"></div>
        <div id="pagination" class="hidden flex justify-center items-center gap-2 mt-12 py-8 border-t border-white/5"><button onclick="changePage(currentPage - 1)" id="prevBtn" class="px-4 py-2 rounded-lg bg-[#1a1a1a] text-white hover:bg-red-600 disabled:opacity-50 transition">‚Üê Prev</button><div id="pageNumbers" class="flex gap-2"></div><button onclick="changePage(currentPage + 1)" id="nextBtn" class="px-4 py-2 rounded-lg bg-[#1a1a1a] text-white hover:bg-red-600 transition">Next ‚Üí</button></div>
    </main>

    <!-- FOOTER -->
    <div id="footerContainer"></div>

    <div id="infoModal" class="fixed inset-0 z-[100] bg-black/95 md:bg-black/80 hidden flex items-end md:items-center justify-center backdrop-blur-sm transition-opacity duration-300 opacity-0 md:px-4">
        <div class="bg-[#151515] w-full h-full md:h-auto md:max-h-[90vh] md:max-w-4xl md:rounded-2xl overflow-hidden shadow-2xl border-t md:border border-white/10 flex flex-col md:flex-row relative">
            <button onclick="closeInfoModal()" class="absolute top-4 right-4 z-20 text-gray-400 hover:text-white bg-black/50 p-2 rounded-full transition md:bg-white/5 hover:bg-white/10"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button>
            <div class="w-full md:w-1/3 relative h-56 md:h-auto shrink-0"><img id="infoCover" src="" class="w-full h-full object-cover"><div class="absolute inset-0 bg-gradient-to-t from-[#151515] via-[#151515]/60 to-transparent md:from-transparent md:via-transparent opacity-100"></div></div>
            <div class="flex-1 flex flex-col overflow-hidden relative h-full">
                <div class="flex-1 overflow-y-auto custom-scroll p-5 md:p-8"><div class="flex gap-2 mb-4 mt-2 md:mt-0"><span id="infoProviderBadge" class="bg-red-600 text-white text-xs font-bold px-2 py-1 rounded shadow-sm">NETSHORT</span><span id="infoEpsBadge" class="bg-gray-700 text-gray-200 text-xs font-bold px-2 py-1 rounded border border-gray-600">0 Episode</span></div><h2 id="infoTitle" class="text-2xl md:text-4xl font-extrabold text-white mb-3 leading-tight">Judul Drama</h2><div id="lastWatchedInfo" class="hidden mb-6 flex items-center gap-2 text-yellow-500 bg-yellow-900/20 px-3 py-2 rounded-lg border border-yellow-700/30 w-fit"><span class="text-sm font-semibold">Terakhir: Episode <span id="lastEpNum">1</span></span></div><div class="mb-4"><h3 class="text-sm font-bold text-gray-500 uppercase tracking-wider mb-2">Sinopsis</h3><p id="infoSynopsis" class="text-gray-300 leading-relaxed text-sm md:text-base line-clamp-[10] md:line-clamp-none">Deskripsi...</p></div></div>
                <div class="p-4 md:p-6 border-t border-white/5 flex gap-3 mt-auto bg-[#151515] shrink-0 pb-8 md:pb-6"><button id="btnPlayMain" onclick="startPlayer(0)" class="flex-1 bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-4 rounded-xl shadow-[0_0_20px_rgba(220,38,38,0.4)] text-sm md:text-base">Tonton Sekarang</button><button onclick="closeInfoModal()" class="px-5 py-3 rounded-xl border border-white/10 hover:bg-white/5 text-gray-300 font-semibold transition text-sm md:text-base hidden md:block">Tutup</button></div>
            </div>
        </div>
    </div>

    <div id="playerModal" class="fixed inset-0 z-[110] bg-black hidden transition-all duration-300 opacity-0 group select-none overflow-hidden font-sans">
        <div class="absolute inset-0 flex items-center justify-center bg-black z-0"><video id="mainVideo" controls crossorigin="anonymous" class="w-full h-full object-contain outline-none" playsinline controlsList="nodownload"></video></div>
        
        <div id="playerTopUI" class="player-ui absolute top-0 left-0 right-0 p-4 flex justify-between items-start z-20 bg-gradient-to-b from-black/70 to-transparent pt-6">
            <button onclick="closePlayer()" class="text-white/80 hover:text-white bg-black/40 p-2 rounded-full transition backdrop-blur-md border border-white/10 hover:bg-black/60 mr-auto flex items-center gap-1 group">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18" /></svg>
            </button>
            <div class="flex items-center gap-2"><span id="subStatus" class="text-[10px] text-white/80 uppercase tracking-wider bg-black/40 border border-white/10 px-2 py-1 rounded-full backdrop-blur-md">SUB: CHECKING</span></div>
            <button onclick="closePlayer()" class="text-white/80 hover:text-white bg-black/40 p-2 rounded-full transition backdrop-blur-md border border-white/10 hover:bg-black/60 ml-2"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button>
        </div>
        
        <div id="playerRightUI" class="player-ui absolute right-4 bottom-36 z-50 flex flex-col items-center gap-6"><button onclick="toggleEpisodeDrawer()" class="flex flex-col items-center gap-1 group"><div class="w-12 h-12 bg-black/50 backdrop-blur-lg rounded-full flex items-center justify-center border border-white/20 group-hover:bg-red-600/80 transition-all shadow-lg"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 text-white"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" /></svg></div><span class="text-[10px] text-white font-medium drop-shadow-lg">Episode</span></button></div>
        <div id="playerBottomUI" class="player-ui absolute bottom-0 left-0 right-0 p-6 z-20 bg-gradient-to-t from-black/90 via-black/50 to-transparent flex flex-col justify-end h-40 pointer-events-none"><div class="pointer-events-auto mb-4"><h2 id="playerTitle" class="text-white font-bold text-xl lg:text-2xl drop-shadow-lg line-clamp-2 text-shadow-md leading-tight">Judul Drama</h2></div></div>
        
        <div id="episodeDrawer" class="fixed inset-x-0 bottom-0 z-40 bg-[#1a1a1a] rounded-t-[2rem] max-h-[75vh] flex flex-col transition-transform duration-300 drawer-closed border-t border-white/10 shadow-[0_-10px_40px_rgba(0,0,0,0.5)] lg:fixed lg:inset-y-0 lg:right-0 lg:w-96 lg:h-full lg:max-h-full lg:rounded-none lg:border-t-0 lg:border-l lg:left-auto">
            <div class="p-4 flex flex-col gap-4 relative shrink-0 lg:bg-[#121212]">
                <div class="w-12 h-1 bg-white/20 rounded-full mx-auto lg:hidden"></div>
                <div class="flex justify-between items-center mt-2 lg:mt-0">
                    <div class="flex items-center gap-3"><h3 class="font-bold text-white text-lg">Daftar Episode</h3><span class="text-xs bg-red-600 text-white px-2 py-0.5 rounded-full font-bold shadow-sm" id="totalEpBadge">0 Eps</span></div>
                    <button onclick="toggleEpisodeDrawer()" class="p-2 bg-white/5 rounded-full hover:bg-white/10 transition"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5 text-gray-300"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" /></svg></button>
                </div>
            </div>
            <div id="episodeList" class="flex-1 overflow-y-auto p-4 grid grid-cols-5 gap-2 content-start custom-scroll pb-8 lg:bg-[#121212]"></div>
        </div>
    </div>

    <!-- SECURITY & CORE LOGIC -->
    <script>
        // SECURITY PROTECTIONS
        // 1. Disable right-click
        document.addEventListener('contextmenu', (e) => {
            e.preventDefault();
            return false;
        });

        // 2. Disable keyboard shortcuts (F12, Ctrl+Shift+I, etc)
        document.addEventListener('keydown', (e) => {
            if (
                (e.ctrlKey && e.shiftKey && e.keyCode === 73) ||  // Ctrl+Shift+I
                (e.ctrlKey && e.shiftKey && e.keyCode === 74) ||  // Ctrl+Shift+J
                (e.ctrlKey && e.shiftKey && e.keyCode === 67) ||  // Ctrl+Shift+C
                (e.keyCode === 123) ||                             // F12
                (e.ctrlKey && e.keyCode === 85)                   // Ctrl+U
            ) {
                e.preventDefault();
                return false;
            }
        });

        // 3. Disable console
        Object.defineProperty(window, 'console', {
            value: new Proxy(new console.constructor(), {
                get: () => undefined,
            }),
            writable: false,
            configurable: false
        });
    </script>

    <!-- LOAD EXTERNAL APP LOGIC -->
    <script src="./app.min.js"></script>
</body>
</html>